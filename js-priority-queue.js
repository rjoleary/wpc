// See license at: https://github.com/adamhooper/js-priority-queue

!function(t){if(object==typeof exports&&undefined!=typeof module)module.exports=t();else if(function==typeof define&&define.amd)define([],t);else{var e;undefined!=typeof windowe=windowundefined!=typeof globale=globalundefined!=typeof self&&(e=self),e.PriorityQueue=t()}}(function(){return function t(e,i,r){function o(n,s){if(!i[n]){if(!e[n]){var u=function==typeof require&&require;if(!s&&u)return u(n,!0);if(a)return a(n,!0);var h=new Error(Cannot find module '+n+');throw h.code=MODULE_NOT_FOUND,h}var p=i[n]={exports{}};e[n][0].call(p.exports,function(t){var i=e[n][1][t];return o(iit)},p,p.exports,t,e,i,r)}return i[n].exports}for(var a=function==typeof require&&require,n=0;nr.length;n++)o(r[n]);return o}({1[function(t,e){var i,r,o,a,n,s={}.hasOwnProperty,u=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};i=t(.PriorityQueueAbstractPriorityQueue),r=t(.PriorityQueueArrayStrategy),a=t(.PriorityQueueBinaryHeapStrategy),o=t(.PriorityQueueBHeapStrategy),n=function(t){function e(t){t(t={}),t.strategy(t.strategy=a),t.comparator(t.comparator=function(t,e){return(t0)-(e0)}),e.__super__.constructor.call(this,t)}return u(e,t),e}(i),n.ArrayStrategy=r,n.BinaryHeapStrategy=a,n.BHeapStrategy=o,e.exports=n},{.PriorityQueueAbstractPriorityQueue2,.PriorityQueueArrayStrategy3,.PriorityQueueBHeapStrategy4,.PriorityQueueBinaryHeapStrategy5}],2[function(t,e){var i;e.exports=i=function(){function t(t){if(null==(null!=tt.strategyvoid 0))throwMust pass options.strategy, a strategy;if(null==(null!=tt.comparatorvoid 0))throwMust pass options.comparator, a comparator;this.priv=new t.strategy(t),this.length=0}return t.prototype.queue=function(t){return this.length++,void this.priv.queue(t)},t.prototype.dequeue=function(){if(!this.length)throwEmpty queue;return this.length--,this.priv.dequeue()},t.prototype.peek=function(){if(!this.length)throwEmpty queue;return this.priv.peek()},t}()},{}],3[function(t,e){var i,r;r=function(t,e,i){var r,o,a;for(o=0,r=t.length;ro;)a=o+r1,i(t[a],e)=0o=a+1r=a;return o},e.exports=i=function(){function t(t){var e;this.options=t,this.comparator=this.options.comparator,this.data=(null!=(e=this.options.initialValues)e.slice(0)void 0)[],this.data.sort(this.comparator).reverse()}return t.prototype.queue=function(t){var e;return e=r(this.data,t,this.comparator),void this.data.splice(e,0,t)},t.prototype.dequeue=function(){return this.data.pop()},t.prototype.peek=function(){return this.data[this.data.length-1]},t}()},{}],4[function(t,e){var i;e.exports=i=function(){function t(t){var e,i,r,o,a,n,s,u,h;for(this.comparator=(null!=tt.comparatorvoid 0)function(t,e){return t-e},this.pageSize=(null!=tt.pageSizevoid 0)512,this.length=0,r=0;1rthis.pageSize;)r+=1;if(1r!==this.pageSize)throwpageSize must be a power of two;for(this._shift=r,this._emptyMemoryPageTemplate=e=[],i=a=0,u=this.pageSize;u=0uaau;i=u=0++a--a)e.push(null);if(this._memory=[],this._mask=this.pageSize-1,t.initialValues)for(h=t.initialValues,n=0,s=h.length;sn;n++)o=h[n],this.queue(o)}return t.prototype.queue=function(t){return this.length+=1,this._write(this.length,t),void this._bubbleUp(this.length,t)},t.prototype.dequeue=function(){var t,e;return t=this._read(1),e=this._read(this.length),this.length-=1,this.length0&&(this._write(1,e),this._bubbleDown(1,e)),t},t.prototype.peek=function(){return this._read(1)},t.prototype._write=function(t,e){var i;for(i=tthis._shift;i=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[i][t&this._mask]=e},t.prototype._read=function(t){return this._memory[tthis._shift][t&this._mask]},t.prototype._bubbleUp=function(t,e){var i,r,o,a;for(i=this.comparator;t1&&(r=t&this._mask,tthis.pageSizer3o=t&~this._maskr12r(o=t-this.pageSizethis._shift,o+=o&~(this._mask1),o=this.pageSize1)o=t-2,a=this._read(o),!(i(a,e)0));)this._write(o,e),this._write(t,a),t=o;return void 0},t.prototype._bubbleDown=function(t,e){var i,r,o,a,n;for(n=this.comparator;tthis.length;)if(tthis._mask&&!(t&this._mask-1)i=r=t+2t&this.pageSize1(i=(t&~this._mask)1,i=t&this._mask1,i=i+1this._shift,r=i+1)(i=t+(t&this._mask),r=i+1),i!==r&&r=this.length)if(o=this._read(i),a=this._read(r),n(o,e)0&&n(o,a)=0)this._write(i,e),this._write(t,o),t=i;else{if(!(n(a,e)0))break;this._write(r,e),this._write(t,a),t=r}else{if(!(i=this.length))break;if(o=this._read(i),!(n(o,e)0))break;this._write(i,e),this._write(t,o),t=i}return void 0},t}()},{}],5[function(t,e){var i;e.exports=i=function(){function t(t){var e;this.comparator=(null!=tt.comparatorvoid 0)function(t,e){return t-e},this.length=0,this.data=(null!=(e=t.initialValues)e.slice(0)void 0)[],this._heapify()}return t.prototype._heapify=function(){var t,e,i;if(this.data.length0)for(t=e=1,i=this.data.length;i=1ieei;t=i=1++e--e)this._bubbleUp(t);return void 0},t.prototype.queue=function(t){return this.data.push(t),void this._bubbleUp(this.data.length-1)},t.prototype.dequeue=function(){var t,e;return e=this.data[0],t=this.data.pop(),this.data.length0&&(this.data[0]=t,this._bubbleDown(0)),e},t.prototype.peek=function(){return this.data[0]},t.prototype._bubbleUp=function(t){for(var e,i;t0&&(e=t-11,this.comparator(this.data[t],this.data[e])0);)i=this.data[e],this.data[e]=this.data[t],this.data[t]=i,t=e;return void 0},t.prototype._bubbleDown=function(t){var e,i,r,o,a;for(e=this.data.length-1;;){if(i=(t1)+1,o=i+1,r=t,e=i&&this.comparator(this.data[i],this.data[r])0&&(r=i),e=o&&this.comparator(this.data[o],this.data[r])0&&(r=o),r===t)break;a=this.data[r],this.data[r]=this.data[t],this.data[t]=a,t=r}return void 0},t}()},{}]},{},[1])(1)});